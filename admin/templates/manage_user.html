{%extends "root_template/navbar.html"%}
{% import 'bootstrap4/form.html' as wtf%}
{%block body%}
<div class="vh-100">
  <div class="container py-5 h-100">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}"> {{ message|capitalize }} </div>
      {% endfor %}
    {% endif %}
    {%endwith%}
      <!-- Tables and adding users -->
      <div class="row">
        <div class="col-lg-3 col-md-6 col-sm-12">
          <h3> <i class="fas fa-users"></i> Manage Users</h3>
        </div>
        <div class="col-lg-3 col-md-6 col-sm-12">
          <h3> <i class="fas fa-users"></i> Manage Users</h3>
        </div>
      </div>
   
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th scope="col"> <a href="{{url_for('admin.add_users')}}" class="btn btn-primary"><i class="fas fa-plus-circle"></i> Add Users</a></th>
              <th scope="col">Username</th>
              <th scope="col">Email </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              {%for user in users%}
                <th scope="row"></th>
                <td>{{user.user}}</td>
                <td>{{user.email}}</td>
                <td><a href="{{url_for('admin.edit_users', id=user.id)}}" class="btn btn-warning">Edit this user</a></td>
                <td><a href="{{url_for('admin.api.api_users.delete_users', id=user.id)}}" class="btn btn-danger">Delete this user</a></td>
            </tr>
            {%endfor%}
          </tbody>
        </table>
      </div>
    </div>
</div>

      
{%endblock%}